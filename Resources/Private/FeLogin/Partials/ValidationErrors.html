<f:spaceless>
    <f:form.validationResults>
        <f:if condition="{validationResults.flattenedErrors}">
                <f:for each='{validationResults.flattenedErrors}' as='errors' key='propertyPath' iteration='propertyIterator'>
                    <f:render section="errors" arguments="{_all}"/>
                    {f:if(condition: propertyIterator.isLast, else: ',')}
                </f:for>
        </f:if>
    </f:form.validationResults>
</f:spaceless>
<f:section name="errors">
<f:spaceless>
    <f:format.raw>
        [
            <f:for each='{errors}' as='error' iteration='errorIterator'>
                <f:format.json value="{
                    message: '{error.message}',
                    code: '{error.code}',
                    propertyPath: '{propertyPath}',
                    title: '{error.title}'
                }"/>
                {f:if(condition: errorIterator.isLast, else: ',')}
            </f:for>
        ]
    </f:format.raw>
</f:spaceless>
</f:section>
